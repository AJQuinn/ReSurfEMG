
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>resurfemg.helper_functions module &#8212; resurfemg 0.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/nature.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="resurfemg.converter_functions module" href="resurfemg.converter_functions.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="resurfemg.converter_functions.html" title="resurfemg.converter_functions module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">resurfemg 0.0.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="resurfemg.html" accesskey="U">resurfemg package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">resurfemg.helper_functions module</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-resurfemg.helper_functions">
<span id="resurfemg-helper-functions-module"></span><h1>resurfemg.helper_functions module<a class="headerlink" href="#module-resurfemg.helper_functions" title="Permalink to this heading">¶</a></h1>
<p>This file contains functions to work with various EMG arrays
and other types of data arrays e.g. ventilator signals</p>
<dl class="py class">
<dt class="sig sig-object py" id="resurfemg.helper_functions.Range">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">Range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.Range" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">RangeBase</span></code></p>
<p>This class creates an object of a tuple that relates to ranges in arrays.</p>
<dl class="py method">
<dt class="sig sig-object py" id="resurfemg.helper_functions.Range.intersects">
<span class="sig-name descname"><span class="pre">intersects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.Range.intersects" title="Permalink to this definition">¶</a></dt>
<dd><p>This defines intersections of two arrays</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="resurfemg.helper_functions.Range.precedes">
<span class="sig-name descname"><span class="pre">precedes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.Range.precedes" title="Permalink to this definition">¶</a></dt>
<dd><p>This defines which array precedes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="resurfemg.helper_functions.Range.to_slice">
<span class="sig-name descname"><span class="pre">to_slice</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.Range.to_slice" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a special slicer which maps the whole tuple set.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.bad_end_cutter">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">bad_end_cutter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_emg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percent_to_cut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance_percent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.bad_end_cutter" title="Permalink to this definition">¶</a></dt>
<dd><p>This algorithm takes the end off of EMGs where the end
is radically altered, or if not radically altered cuts the last 10 values
but returns only the array, not an altered Poly5.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_emg</strong> – a poly5</p></li>
<li><p><strong>percent_to_cut</strong> – percentage to look at on the end</p></li>
<li><p><strong>tolerance_percent</strong> – percentage variation tolerance to allow
without cutting</p></li>
</ul>
</dd>
<dt class="field-even">Return sample_cut<span class="colon">:</span></dt>
<dd class="field-even"><p>the cut emg sample data</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="field-list simple">
<dt class="field-odd">class<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>~numpy.ndarray</cite></p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.bad_end_cutter_better">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">bad_end_cutter_better</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_emg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percent_to_cut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance_percent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.bad_end_cutter_better" title="Permalink to this definition">¶</a></dt>
<dd><p>This algorithm takes the end off of EMGs where the end
is radically altered, or if not radically altered cuts the last
10 values but returns only the array not an altered Poly5.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_emg</strong> – a poly5</p></li>
<li><p><strong>percent_to_cut</strong> – percentage to look at on the end</p></li>
<li><p><strong>tolerance_percent</strong> – percentage variation to allow without cut</p></li>
</ul>
</dd>
<dt class="field-even">Return sample_cut<span class="colon">:</span></dt>
<dd class="field-even"><p>the cut emg sample data</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="field-list simple">
<dt class="field-odd">class<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>~numpy.ndarray</cite></p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.bad_end_cutter_for_samples">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">bad_end_cutter_for_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_emg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percent_to_cut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance_percent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.bad_end_cutter_for_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>This algorithm takes the end off of EMGs where the end is radically
altered, or if not radically altered cuts the last 10 values
but returns only the array .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_emg</strong> – array of samples</p></li>
<li><p><strong>percent_to_cut</strong> – percentage to look at on the end</p></li>
<li><p><strong>tolerance_percent</strong> – percent variation to allow without cutting</p></li>
</ul>
</dd>
<dt class="field-even">Return sample_cut<span class="colon">:</span></dt>
<dd class="field-even"><p>the cut emg sample data</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="field-list simple">
<dt class="field-odd">class<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>~numpy.ndarray</cite></p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.compute_ICA_two_comp">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">compute_ICA_two_comp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emg_samples</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.compute_ICA_two_comp" title="Permalink to this definition">¶</a></dt>
<dd><p>A function that performs an independant component analysis (ICA)
meant for EMG data that includes stacked three arrays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>emg_samples</strong> – original signal array with three layers</p>
</dd>
<dt class="field-even">Return array_list<span class="colon">:</span></dt>
<dd class="field-even"><p>two arrays of independent components (ecg-like and emg)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="field-list simple">
<dt class="field-odd">class<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>~numpy.ndarray</cite></p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.compute_power_loss">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">compute_power_loss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original_signal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_signal_sampling_frequency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processed_signal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processed_signal_sampling_frequency</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.compute_power_loss" title="Permalink to this definition">¶</a></dt>
<dd><p>This function computes the percentage of power loss after the processing of
a signal. Inputs include the original_signal (signal before the
processing), original_signal_sampling_frequency (sampling frequency of the
signal before processing), processed_signal (signal after processing),
processed_signal_sampling_frequency (sampling frequency of
the signal after processing).
Output is the percentage of power loss.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>original_signal</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – array.</p></li>
<li><p><strong>original_signal_sampling_frequency</strong> – sampling freq. original signal</p></li>
<li><p><strong>processed_signal</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – array.</p></li>
<li><p><strong>processed_signal_sampling_frequency</strong> – sampling freq. processed signal</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>power_loss</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>:class:float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.count_decision_array">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">count_decision_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decision_array</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.count_decision_array" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a function that, practically speaking, counts events
on a time series array that has been reduced down to a
binary (0,1) output. It counts changes then divides by two.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>decision_array</strong> – array.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>number of events</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>:class:float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.emg_bandpass_butter">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">emg_bandpass_butter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_emg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low_pass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high_pass</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.emg_bandpass_butter" title="Permalink to this definition">¶</a></dt>
<dd><p>The paramemter taken in here is the Poly5 file. Output is
the emg after a bandpass as made here.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_emg</strong> (<em>Poly5</em>) – Poly5 file with the samples to work over</p></li>
<li><p><strong>low_pass</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – the number to cut off frequenciesabove</p></li>
<li><p><strong>high_pass</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – the number to cut off frequenceisbelow</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the bandpass filtered emg sample data</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.emg_bandpass_butter_sample">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">emg_bandpass_butter_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_emg_samp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low_pass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high_pass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sos'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.emg_bandpass_butter_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>The paramemter taken in here is the Poly5 file.
Output is the emg after a bandpass as made here.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_emg_samp</strong> – The array in the poly5 or other sample</p></li>
<li><p><strong>low_pass</strong> – the number to cut off frequenciesabove</p></li>
<li><p><strong>high_pass</strong> – the number to cut off frequenceisbelow</p></li>
<li><p><strong>sample_rate</strong> – the number of samples per second i.e. Hertz</p></li>
<li><p><strong>output</strong> – the type of sampling stabilizor</p></li>
</ul>
</dd>
<dt class="field-even">Return emg_filtered<span class="colon">:</span></dt>
<dd class="field-even"><p>the bandpass filtered emg sample data</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="field-list simple">
<dt class="field-odd">class<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>~numpy.ndarray</cite></p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.emg_highpass_butter">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">emg_highpass_butter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_emg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut_above</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_rate</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.emg_highpass_butter" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>The paramemter taken in here is the Poly5 file’s samples or another array.</dt><dd><p>Output is the emg after a bandpass as made here.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data_emg</strong> – samples from the emg</p>
</dd>
</dl>
<p>:type data_emg:<cite>~numpy.ndarray</cite>
:param cut_above: the number to cut off frequenceisbelow
:type cut_above: :class:  int
:param sample_rate: the number of samples per second i.e. Hertz
:type sample_rate: :class:  int</p>
<dl class="field-list simple">
<dt class="field-odd">Return emg_filtered<span class="colon">:</span></dt>
<dd class="field-odd"><p>the bandpass filtered emg sample data</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="field-list simple">
<dt class="field-odd">class<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>~numpy.ndarray</cite></p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.entropical">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">entropical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sig</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.entropical" title="Permalink to this definition">¶</a></dt>
<dd><p>This function computes a certain type of entropy of a series signal array.
Input is sig, the signal, and output is an array of entropy measurements.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.intersections">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">intersections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.intersections" title="Permalink to this definition">¶</a></dt>
<dd><p>This function works over two arrays,left and right, and allows
a picking based on intersections. It only takes ranges on
the left that intersect ranges on the right.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> – range</p></li>
<li><p><strong>right</strong> (<em>:class:array</em>) – range</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>result</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>:class:list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.naive_rolling_rms">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">naive_rolling_rms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.naive_rolling_rms" title="Permalink to this definition">¶</a></dt>
<dd><p>This function computes a root mean squared envelope over an array x.
To do this it uses number of sample values N .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – samples from the emg</p></li>
<li><p><strong>N</strong> – legnth of the sample use as window for function</p></li>
</ul>
</dd>
<dt class="field-even">Return emg_rms<span class="colon">:</span></dt>
<dd class="field-even"><p>the root-mean-squared emg sample data</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="field-list simple">
<dt class="field-odd">class<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>~numpy.ndarray</cite></p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.notch_filter">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">notch_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_frequ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq_to_pull</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quality_factor_q</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.notch_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a filter designed to take out a specific frequency.
In the EU in some data electrical cords can interfere at around 50 herts.
In some other locations the interference is at 60 Hertz. The specificities
of a local power grid may neccesitate notch filtering.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample</strong> – percentage variation tolerance to allow without cutting</p></li>
<li><p><strong>sample_frequ</strong> – the frequency at which the sample was captured</p></li>
<li><p><strong>freq_to_pull</strong> – the frequency you desire to remove from teh signal</p></li>
<li><p><strong>quality_factor_q</strong> – how high the quality of the removal is</p></li>
</ul>
</dd>
<dt class="field-even">Return sample_cut<span class="colon">:</span></dt>
<dd class="field-even"><p>the filterered sample data</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="field-list simple">
<dt class="field-odd">class<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>~numpy.ndarray</cite></p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.pick_more_peaks_array">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">pick_more_peaks_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">components_tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.pick_more_peaks_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Here we have a function that takes a tuple with the two parts
of ICA, and finds the one with more peaks and anti-peaks.
The EMG if without a final envelope will have more peaks</p>
<p>Note: data should not have been finally filtered to envelope level
:param components_tuple: tuple of two arrays representing different signals
:type components_tuple: :class: tuple</p>
<dl class="field-list simple">
<dt class="field-odd">Return emg_component<span class="colon">:</span></dt>
<dd class="field-odd"><p>array with more peaks (
should usually be the emg as opposed to ecg)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="field-list simple">
<dt class="field-odd">class<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>~numpy.ndarray</cite></p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.ranges_of">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">ranges_of</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.ranges_of" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is made to work with Range class objects,
such that is selects ranges and returns tuples of boundaries.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.raw_overlap_percent">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">raw_overlap_percent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.raw_overlap_percent" title="Permalink to this definition">¶</a></dt>
<dd><p>This function takes two binary 0/1 signal arrays and
gives the percentage of overlap</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal1</strong> – binary signal 1</p></li>
<li><p><strong>rsignal2</strong> (<em>:class:array</em>) – binary signal 2</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>raw_overlap_percent</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="field-list simple">
<dt class="field-odd">class<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.show_my_power_spectrum">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">show_my_power_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_window</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.show_my_power_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>This function plots a power spectrum
of the frequencies comtained in an emg based on
a fourier transform. It does not return the graph, rather the values
but plots the graph before it return.
Sample should be one single row. (1 dimensional array)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample</strong> – the sample array</p></li>
<li><p><strong>sample_rate</strong> – number of samples per second</p></li>
<li><p><strong>upper_window</strong> – the end ofwindow over which values will be plotted</p></li>
</ul>
</dd>
<dt class="field-even">Return yf,xf<span class="colon">:</span></dt>
<dd class="field-even"><p>the values for plotting the power spectrum</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="field-list simple">
<dt class="field-odd">class<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple of fourier transformed array and frequencies</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.slices_slider">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">slices_slider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array_sample</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slice_len</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.slices_slider" title="Permalink to this definition">¶</a></dt>
<dd><p>This function produces continous sequential slices over an
array of a certain legnth.The inputs are the following- array_sample,
the signal and slice_len- the window which
you wish to slide with. The function yields, does not return these slices.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.smooth_for_baseline">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">smooth_for_baseline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">single_filtered_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smooth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.smooth_for_baseline" title="Permalink to this definition">¶</a></dt>
<dd><p>This is an adaptive smoothing a series that overvalues closer numbers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>single_filtered_array</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – array.</p></li>
<li><p><strong>start</strong> (<em>:class:int</em>) – the number on samples to work from</p></li>
<li><p><strong>end</strong> (<em>:class:int</em>) – the number on samples to work until</p></li>
<li><p><strong>smooth</strong> (<em>:class:int</em>) – the number of samples to work over</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>array</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.smooth_for_baseline_with_overlay">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">smooth_for_baseline_with_overlay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">my_own_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smooth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.smooth_for_baseline_with_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the same as smooth for baseline, but we also get an
overlay 0/1 mask tagging the baseline
:param my_own_array: array.
:type  my_own_array: <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>
:param threshold: number where to cut the mask for overlay
:type threshold: :class: int
:param start: the number on samples to work from
:type start: :class:int
:param end: the number on samples to work until
:type end: :class:int
:param smooth: the number of samples to work over
:type smooth: :class:int</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>array</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.vect_naive_rolling_rms">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">vect_naive_rolling_rms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.vect_naive_rolling_rms" title="Permalink to this definition">¶</a></dt>
<dd><p>This function computes a root mean squared envelope over an array x.
To do this it uses number of sample values N . It differs from
naive_rolling_rms by the way the signal is put in.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xc</strong> – samples from the emg</p></li>
<li><p><strong>N</strong> – legnth of the sample use as window for function</p></li>
</ul>
</dd>
<dt class="field-even">Return emg_rms<span class="colon">:</span></dt>
<dd class="field-even"><p>the root-mean-squared emg sample data</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="field-list simple">
<dt class="field-odd">class<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>~numpy.ndarray</cite></p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.working_pipeline_exp">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">working_pipeline_exp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">our_chosen_file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.working_pipeline_exp" title="Permalink to this definition">¶</a></dt>
<dd><p>This function produces a filtered respiratory EMG signal from a
3 lead sEMG file.The inputs is our_chosen_file which we give the
function as a string of filename. The output is the processed
emg signal filtered and seperated from ecg components.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="resurfemg.helper_functions.zero_one_for_jumps_base">
<span class="sig-prename descclassname"><span class="pre">resurfemg.helper_functions.</span></span><span class="sig-name descname"><span class="pre">zero_one_for_jumps_base</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut_off</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#resurfemg.helper_functions.zero_one_for_jumps_base" title="Permalink to this definition">¶</a></dt>
<dd><p>This function takes an array and makes it
binary (0, 1) based on a cut-off value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – an array</p></li>
<li><p><strong>cut_off</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – the number defining a cut-off line for binarization</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>binarized array</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a></p>
</dd>
</dl>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="resurfemg.converter_functions.html"
                          title="previous chapter">resurfemg.converter_functions module</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/resurfemg.helper_functions.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="resurfemg.converter_functions.html" title="resurfemg.converter_functions module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">resurfemg 0.0.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="resurfemg.html" >resurfemg package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">resurfemg.helper_functions module</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, c.moore@esciencecenter.nl.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.0.1.
    </div>
  </body>
</html>